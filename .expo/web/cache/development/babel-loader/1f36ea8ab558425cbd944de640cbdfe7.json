{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar AuthStorage = function () {\n  function AuthStorage() {\n    _classCallCheck(this, AuthStorage);\n  }\n  _createClass(AuthStorage, [{\n    key: \"consturctor\",\n    value: function consturctor() {\n      var namespace = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'auth';\n      this.namespace = namespace;\n    }\n  }, {\n    key: \"getAccessToken\",\n    value: function () {\n      var _getAccessToken = _asyncToGenerator(function* () {\n        var accessToken = yield AsyncStorage.getItem(this.namespace + \":accesstoken\");\n        return accessToken ? JSON.parse(accessToken) : [];\n      });\n      function getAccessToken() {\n        return _getAccessToken.apply(this, arguments);\n      }\n      return getAccessToken;\n    }()\n  }, {\n    key: \"setAccessToken\",\n    value: function () {\n      var _setAccessToken = _asyncToGenerator(function* (accessToken) {\n        yield AsyncStorage.setItem(this.namespace + \":accesstoken\", JSON.stringify(accessToken));\n      });\n      function setAccessToken(_x) {\n        return _setAccessToken.apply(this, arguments);\n      }\n      return setAccessToken;\n    }()\n  }, {\n    key: \"removeAccessToken\",\n    value: function () {\n      var _removeAccessToken = _asyncToGenerator(function* () {\n        yield AsyncStorage.removeItem(this.namespace + \":accesstoken\");\n      });\n      function removeAccessToken() {\n        return _removeAccessToken.apply(this, arguments);\n      }\n      return removeAccessToken;\n    }()\n  }]);\n  return AuthStorage;\n}();\nexport default AuthStorage;","map":{"version":3,"names":["AsyncStorage","AuthStorage","namespace","accessToken","getItem","JSON","parse","setItem","stringify","removeItem"],"sources":["D:/Ohjelmointi/Full Stack Open/Exercises/Part 10/rate-repository-app/src/utils/authStorage.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\n\nclass AuthStorage {\n  consturctor(namespace = 'auth') {\n    this.namespace = namespace\n  }\n\n  async getAccessToken() {\n    const accessToken = await AsyncStorage.getItem(\n      `${this.namespace}:accesstoken`,\n    );\n\n    return accessToken ? JSON.parse(accessToken) : [];\n  }\n\n  async setAccessToken(accessToken) {\n    await AsyncStorage.setItem(\n      `${this.namespace}:accesstoken`,\n      JSON.stringify(accessToken),\n    );\n  }\n\n  async removeAccessToken() {\n    await AsyncStorage.removeItem(`${this.namespace}:accesstoken`);\n  }\n}\n\nexport default AuthStorage;"],"mappings":";;;AAAA,OAAOA,YAAY,MAAM,2CAA2C;AAAC,IAE/DC,WAAW;EAAA;IAAA;EAAA;EAAA;IAAA;IAAA,OACf,uBAAgC;MAAA,IAApBC,SAAS,uEAAG,MAAM;MAC5B,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC5B;EAAC;IAAA;IAAA;MAAA,wCAED,aAAuB;QACrB,IAAMC,WAAW,SAASH,YAAY,CAACI,OAAO,CACzC,IAAI,CAACF,SAAS,kBAClB;QAED,OAAOC,WAAW,GAAGE,IAAI,CAACC,KAAK,CAACH,WAAW,CAAC,GAAG,EAAE;MACnD,CAAC;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,wCAED,WAAqBA,WAAW,EAAE;QAChC,MAAMH,YAAY,CAACO,OAAO,CACrB,IAAI,CAACL,SAAS,mBACjBG,IAAI,CAACG,SAAS,CAACL,WAAW,CAAC,CAC5B;MACH,CAAC;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,2CAED,aAA0B;QACxB,MAAMH,YAAY,CAACS,UAAU,CAAI,IAAI,CAACP,SAAS,kBAAe;MAChE,CAAC;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;EAAA;AAAA;AAGH,eAAeD,WAAW"},"metadata":{},"sourceType":"module"}