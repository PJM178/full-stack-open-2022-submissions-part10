{"ast":null,"code":"import { useLazyQuery, useQuery } from '@apollo/client';\nimport { GET_REPOSITORIES } from \"../graphql/queries\";\nvar useRepositories = function useRepositories() {\n  var _useQuery = useQuery(GET_REPOSITORIES, {\n      fetchPolicy: 'cache-and-network'\n    }),\n    loading = _useQuery.loading,\n    error = _useQuery.error,\n    data = _useQuery.data;\n  if (loading) return {\n    loading: loading\n  };\n  if (error) return {\n    error: error\n  };\n  var repositories = data.repositories;\n  return {\n    repositories: repositories\n  };\n};\nexport default useRepositories;","map":{"version":3,"names":["useLazyQuery","useQuery","GET_REPOSITORIES","useRepositories","fetchPolicy","loading","error","data","repositories"],"sources":["D:/Ohjelmointi/Full Stack Open/Exercises/Part 10/rate-repository-app/src/hooks/useRepositories.js"],"sourcesContent":["import { useLazyQuery, useQuery } from '@apollo/client';\nimport { GET_REPOSITORIES } from '../graphql/queries';\n\n// const useRepositories = () => {\n//   const [repositories, setRepositories] = useState();\n//   const [loading, setLoading] = useState(false);\n\n//   const fetchRepositories = async () => {\n//     setLoading(true);\n    \n//     // Replace the IP address part with your own IP address!\n//     const response = await fetch('http://192.168.32.233:5000/api/repositories');\n//     const json = await response.json();\n\n//     setLoading(false);\n//     setRepositories(json);\n//   };\n\n//   useEffect(() => {\n//     fetchRepositories();\n//   }, []);\n\n//   return { repositories, loading, refetch: fetchRepositories };\n// };\n\n// GraphQL\nconst useRepositories = () => {\n  const { loading, error, data } = useQuery(GET_REPOSITORIES, {\n    fetchPolicy: 'cache-and-network'\n  });\n\n  if (loading) return { loading };\n  if (error) return { error };\n\n  const repositories = data.repositories;\n\n  return { repositories };\n};\n\nexport default useRepositories;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,QAAQ,QAAQ,gBAAgB;AACvD,SAASC,gBAAgB;AAyBzB,IAAMC,eAAe,GAAG,SAAlBA,eAAe,GAAS;EAC5B,gBAAiCF,QAAQ,CAACC,gBAAgB,EAAE;MAC1DE,WAAW,EAAE;IACf,CAAC,CAAC;IAFMC,OAAO,aAAPA,OAAO;IAAEC,KAAK,aAALA,KAAK;IAAEC,IAAI,aAAJA,IAAI;EAI5B,IAAIF,OAAO,EAAE,OAAO;IAAEA,OAAO,EAAPA;EAAQ,CAAC;EAC/B,IAAIC,KAAK,EAAE,OAAO;IAAEA,KAAK,EAALA;EAAM,CAAC;EAE3B,IAAME,YAAY,GAAGD,IAAI,CAACC,YAAY;EAEtC,OAAO;IAAEA,YAAY,EAAZA;EAAa,CAAC;AACzB,CAAC;AAED,eAAeL,eAAe"},"metadata":{},"sourceType":"module"}